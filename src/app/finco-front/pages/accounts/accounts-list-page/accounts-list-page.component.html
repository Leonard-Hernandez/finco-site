<div
  class="flex flex-col py-15 justify-between items-center min-h-screen max-h-screen min-w-screen max-w-screen bg-gradient-to-br from-finco-bg-color to-finco-card-bg-color">

  <div class="flex flex-col gap-2 min-w-85 font-bold">
    <app-transaction-chart [transactionChartOptions]="transactionChartOptions()" />
    <transaction-ranges-buttons (range)="updateTransactionFilter($event)" />
  </div>

  <div class="w-full px-4">
    <h2 class="text-finco-secondary-color">Accounts</h2>
    <div class="flex gap-4 overflow-x-auto pb-4">
      @for (account of accounts.value(); track $index) {
      <div class="flex-shrink-0 w-[calc(100%-1rem)] sm:w-80">
        <app-account [account]="account" />
      </div>
      }
    </div>
  </div>

  <div class="w-95 h-full flex-2 flex flex-col p-3 gap-2 overflow-y-auto rounded-xl z-1">
    <div>
      <h2 class="text-finco-secondary-color">Transactions</h2>
    </div>
    <div class="flex flex-col gap-2 overflow-y-auto">
      @for (transaction of transactions.value()!; track $index) {
      <div
        class="w-full h-30 aspect-ratio-2/1 rounded-xl bg-finco-card-bg-color border-2 border-finco-button-bg-color px-4 py-2">
        <div class="flex justify-between items-center text-sm text-finco-primary-color">
          @if (transaction.type === 'WITHDRAW' || transaction.type === 'WITHDRAW_GOAL') {
          <p class="text-red-500">{{transaction.type}}</p>
          } @else if (transaction.type === 'DEPOSIT' || transaction.type === 'DEPOSIT_GOAL') {
          <p class="text-green-500">{{transaction.type}}</p>
          }
          <p>{{transaction.date | date:'medium'}}</p>
        </div>
        <div class="flex justify-between items-center text-sm text-finco-primary-color">
          <p>{{transaction.account.name}}</p>
          @if (transaction.transferAccount) {
          @if (transaction.type === 'WITHDRAW') {
          <p class="text-red-500 text-xs">TO</p>
          } @else {
          <p class="text-green-500 text-xs">FROM</p>
          }
          <p>{{transaction.transferAccount.name}}</p>
          } @else if (transaction.goal) {
          @if (transaction.type === 'DEPOSIT_GOAL') {
          <p class="text-red-500 text-xs">TO</p>
          } @else {
          <p class="text-green-500 text-xs">FROM</p>
          }
          <p>{{transaction.goal.name}}</p>
          }
        </div>
        <div class="flex justify-between items-center text-sm text-finco-primary-color">
          <p>amount:</p>
          <p>{{transaction.amount | currency:'':''}} {{transaction.account.currency}}</p>
        </div>
        <div class="flex justify-between items-center text-sm text-finco-primary-color">
          <p>fee: {{transaction.fee | currency:'':''}} {{transaction.account.currency}}</p>
          @if (transaction.transferAccount && transaction.account.currency !== transaction.transferAccount.currency &&
          transaction.type === 'WITHDRAW') {
          <p>Ex rate
            ({{transaction.account.currency}}/{{transaction.transferAccount.currency}}):{{transaction.exchangeRate}}</p>
          }
        </div>
        <div class="flex justify-between items-center text-sm text-finco-primary-color">
          <p>{{transaction.category}}</p>
          <p>{{transaction.description}}</p>
        </div>

      </div>
      }
    </div>
  </div>

</div>